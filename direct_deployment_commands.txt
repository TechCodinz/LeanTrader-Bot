# 1. Stop current bot
systemctl stop real_trading_bot.service

# 2. Navigate to bot directory
cd /opt/leantraderbot

# 3. Install dependencies
echo "ðŸš€ Installing AI/ML dependencies..."
source venv/bin/activate
pip install scikit-learn pandas numpy scipy

# 4. Create FULL ULTRA ARSENAL BOT - DIRECT COPY
cp /workspace/FIXED_FULL_ULTRA_ARSENAL.py REAL_TRADING_BOT.py

# 5. Make executable
chmod +x REAL_TRADING_BOT.py

# 6. Test the bot
echo "ðŸ§ª Testing FULL ULTRA ARSENAL bot..."
source venv/bin/activate
python3 -c "
from REAL_TRADING_BOT import FULL_ULTRA_ARSENAL_BOT
bot = FULL_ULTRA_ARSENAL_BOT()
print('ðŸš€ FULL ULTRA ARSENAL bot initialized successfully!')
print(f'ðŸ’° Total Capital: \${bot.total_capital:.2f}')
print(f'ðŸ“Š Exchanges: {len(bot.exchanges)}')
print(f'ðŸŽ¯ Pairs: {len(bot.all_pairs)}')
print(f'ðŸ§  AI Models: {len(bot.prediction_models)}')
"

# 7. Start the bot
systemctl start real_trading_bot.service
echo "ðŸš€ FULL ULTRA ARSENAL Bot started!"

# 8. Monitor the bot
echo "ðŸ“Š Monitoring FULL ULTRA ARSENAL bot..."
journalctl -u real_trading_bot.service -f
